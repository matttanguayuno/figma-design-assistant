<svg id="my-svg" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="flowchart" style="max-width: 1442.66px; background-color: transparent;" viewBox="0 0 1442.66015625 1486" role="graphics-document document" aria-roledescription="flowchart-v2"><style>#my-svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#ccc;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#my-svg .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#my-svg .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#my-svg .error-icon{fill:#a44141;}#my-svg .error-text{fill:#ddd;stroke:#ddd;}#my-svg .edge-thickness-normal{stroke-width:1px;}#my-svg .edge-thickness-thick{stroke-width:3.5px;}#my-svg .edge-pattern-solid{stroke-dasharray:0;}#my-svg .edge-thickness-invisible{stroke-width:0;fill:none;}#my-svg .edge-pattern-dashed{stroke-dasharray:3;}#my-svg .edge-pattern-dotted{stroke-dasharray:2;}#my-svg .marker{fill:lightgrey;stroke:lightgrey;}#my-svg .marker.cross{stroke:lightgrey;}#my-svg svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#my-svg p{margin:0;}#my-svg .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#ccc;}#my-svg .cluster-label text{fill:#F9FFFE;}#my-svg .cluster-label span{color:#F9FFFE;}#my-svg .cluster-label span p{background-color:transparent;}#my-svg .label text,#my-svg span{fill:#ccc;color:#ccc;}#my-svg .node rect,#my-svg .node circle,#my-svg .node ellipse,#my-svg .node polygon,#my-svg .node path{fill:#1f2020;stroke:#ccc;stroke-width:1px;}#my-svg .rough-node .label text,#my-svg .node .label text,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-anchor:middle;}#my-svg .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#my-svg .rough-node .label,#my-svg .node .label,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-align:center;}#my-svg .node.clickable{cursor:pointer;}#my-svg .root .anchor path{fill:lightgrey!important;stroke-width:0;stroke:lightgrey;}#my-svg .arrowheadPath{fill:lightgrey;}#my-svg .edgePath .path{stroke:lightgrey;stroke-width:2.0px;}#my-svg .flowchart-link{stroke:lightgrey;fill:none;}#my-svg .edgeLabel{background-color:hsl(0, 0%, 34.4117647059%);text-align:center;}#my-svg .edgeLabel p{background-color:hsl(0, 0%, 34.4117647059%);}#my-svg .edgeLabel rect{opacity:0.5;background-color:hsl(0, 0%, 34.4117647059%);fill:hsl(0, 0%, 34.4117647059%);}#my-svg .labelBkg{background-color:rgba(87.75, 87.75, 87.75, 0.5);}#my-svg .cluster rect{fill:hsl(180, 1.5873015873%, 28.3529411765%);stroke:rgba(255, 255, 255, 0.25);stroke-width:1px;}#my-svg .cluster text{fill:#F9FFFE;}#my-svg .cluster span{color:#F9FFFE;}#my-svg div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(20, 1.5873015873%, 12.3529411765%);border:1px solid rgba(255, 255, 255, 0.25);border-radius:2px;pointer-events:none;z-index:100;}#my-svg .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#ccc;}#my-svg rect.text{fill:none;stroke-width:0;}#my-svg .icon-shape,#my-svg .image-shape{background-color:hsl(0, 0%, 34.4117647059%);text-align:center;}#my-svg .icon-shape p,#my-svg .image-shape p{background-color:hsl(0, 0%, 34.4117647059%);padding:2px;}#my-svg .icon-shape rect,#my-svg .image-shape rect{opacity:0.5;background-color:hsl(0, 0%, 34.4117647059%);fill:hsl(0, 0%, 34.4117647059%);}#my-svg .label-icon{display:inline-block;height:1em;overflow:visible;vertical-align:-0.125em;}#my-svg .node .label-icon path{fill:currentColor;stroke:revert;stroke-width:revert;}#my-svg :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker id="my-svg_flowchart-v2-pointEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-pointStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="4.5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 5 L 10 10 L 10 0 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-circleEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="11" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-circleStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="-1" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-crossEnd" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="12" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-crossStart" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="-1" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"/></marker><g class="root"><g class="clusters"><g class="cluster" id="dspipeline" data-look="classic"><rect style="fill:#3a2a1a !important;stroke:#aa8844 !important" x="1126.28515625" y="257" width="308.375" height="449"/><g class="cluster-label" transform="translate(1180.47265625, 257)"><foreignObject width="200" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel" style="color:#fff !important"><p>Design System Pipeline (in code.ts)</p></span></div></foreignObject></g></g><g class="cluster" id="backend" data-look="classic"><rect style="fill:#1a1a4e !important;stroke:#4444aa !important" x="8" y="530" width="416.8046875" height="948"/><g class="cluster-label" transform="translate(116.40234375, 530)"><foreignObject width="200" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel" style="color:#fff !important"><p>Backend :3001 (Node.js, TypeScript)</p></span></div></foreignObject></g></g><g class="cluster" id="figma" data-look="classic"><rect style="fill:#1a1a4e !important;stroke:#4444aa !important" x="444.8046875" y="8" width="661.48046875" height="698"/><g class="cluster-label" transform="translate(675.544921875, 8)"><foreignObject width="200" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel" style="color:#fff !important"><p>Figma Plugin (TypeScript, esbuild IIFE bundle)</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path d="M763.398,136.15L730.322,148.125C697.245,160.1,631.091,184.05,598.014,204.192C564.938,224.333,564.938,240.667,598.565,258.399C632.192,276.131,699.446,295.262,733.073,304.827L766.7,314.393" id="L_ui_code_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_ui_code_0" data-points="W3sieCI6NzYzLjM5ODQzNzUsInkiOjEzNi4xNDk1MDI1MDAxMjYyNn0seyJ4Ijo1NjQuOTM3NSwieSI6MjA4fSx7IngiOjU2NC45Mzc1LCJ5IjoyNTd9LHsieCI6NzcwLjU0Njg3NSwieSI6MzE1LjQ4NzM5ODM1MzQ1MjJ9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M919.765,408L927.102,418.167C934.439,428.333,949.114,448.667,956.452,469C963.789,489.333,963.789,509.667,963.789,523.333C963.789,537,963.789,544,963.789,547.5L963.789,551" id="L_code_canvas_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_code_canvas_0" data-points="W3sieCI6OTE5Ljc2NDY3OTkzOTUxNjEsInkiOjQwOH0seyJ4Ijo5NjMuNzg5MDYyNSwieSI6NDY5fSx7IngiOjk2My43ODkwNjI1LCJ5Ijo1MzB9LHsieCI6OTYzLjc4OTA2MjUsInkiOjU1NX1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M950.295,282L955.321,277.833C960.348,273.667,970.4,265.333,975.427,253C980.453,240.667,980.453,224.333,973.171,208.484C965.889,192.634,951.325,177.269,944.043,169.586L936.761,161.903" id="L_code_ui_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_code_ui_0" data-points="W3sieCI6OTUwLjI5NTA5OTQzMTgxODIsInkiOjI4Mn0seyJ4Ijo5ODAuNDUzMTI1LCJ5IjoyNTd9LHsieCI6OTgwLjQ1MzEyNSwieSI6MjA4fSx7IngiOjkzNC4wMDk3NjU2MjUsInkiOjE1OX1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M220.672,681L224.578,685.167C228.484,689.333,236.297,697.667,240.203,706C244.109,714.333,244.109,722.667,244.66,730.341C245.211,738.016,246.312,745.032,246.862,748.54L247.413,752.048" id="L_server_prompt_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_server_prompt_0" data-points="W3sieCI6MjIwLjY3MTg3NSwieSI6NjgxfSx7IngiOjI0NC4xMDkzNzUsInkiOjcwNn0seyJ4IjoyNDQuMTA5Mzc1LCJ5Ijo3MzF9LHsieCI6MjQ4LjAzMzIwMzEyNSwieSI6NzU2fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M113.783,681L110.62,685.167C107.457,689.333,101.131,697.667,97.968,706C94.805,714.333,94.805,722.667,94.805,743.5C94.805,764.333,94.805,797.667,94.805,835C94.805,872.333,94.805,913.667,94.805,961.25C94.805,1008.833,94.805,1062.667,94.805,1116.5C94.805,1170.333,94.805,1224.167,99.256,1258.675C103.707,1293.183,112.609,1308.366,117.06,1315.958L121.511,1323.549" id="L_server_validator_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_server_validator_0" data-points="W3sieCI6MTEzLjc4MzI5MTkwMzQwOTEsInkiOjY4MX0seyJ4Ijo5NC44MDQ2ODc1LCJ5Ijo3MDZ9LHsieCI6OTQuODA0Njg3NSwieSI6NzMxfSx7IngiOjk0LjgwNDY4NzUsInkiOjgzMX0seyJ4Ijo5NC44MDQ2ODc1LCJ5Ijo5NTV9LHsieCI6OTQuODA0Njg3NSwieSI6MTExNi41fSx7IngiOjk0LjgwNDY4NzUsInkiOjEyNzh9LHsieCI6MTIzLjUzNDQyMzgyODEyNSwieSI6MTMyN31d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M770.547,386.568L736.257,400.307C701.966,414.045,633.385,441.523,599.095,465.428C564.805,489.333,564.805,509.667,518.025,530.043C471.245,550.42,377.686,570.84,330.906,581.05L284.127,591.26" id="L_code_server_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_code_server_0" data-points="W3sieCI6NzcwLjU0Njg3NSwieSI6Mzg2LjU2ODA5Mjg5NDEwNTc1fSx7IngiOjU2NC44MDQ2ODc1LCJ5Ijo0Njl9LHsieCI6NTY0LjgwNDY4NzUsInkiOjUzMH0seyJ4IjoyODAuMjE4NzUsInkiOjU5Mi4xMTI3MzIyNzUzNzgzfV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M280.219,601.251L364.316,589.376C448.414,577.501,616.609,553.75,700.707,531.709C784.805,509.667,784.805,489.333,791.752,469.541C798.699,449.748,812.594,430.496,819.541,420.87L826.488,411.244" id="L_server_code_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_server_code_0" data-points="W3sieCI6MjgwLjIxODc1LCJ5Ijo2MDEuMjUxNDM4NTI4NzUxOH0seyJ4Ijo3ODQuODA0Njg3NSwieSI6NTMwfSx7IngiOjc4NC44MDQ2ODc1LCJ5Ijo0Njl9LHsieCI6ODI4LjgyOTA3MDA2MDQ4MzksInkiOjQwOH1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M970.083,408L985.54,418.167C1000.998,428.333,1031.913,448.667,1047.371,469C1062.828,489.333,1062.828,509.667,1078.62,526.218C1094.411,542.77,1125.994,555.54,1141.785,561.925L1157.577,568.31" id="L_code_extract_0" class="edge-thickness-normal edge-pattern-dotted edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_code_extract_0" data-points="W3sieCI6OTcwLjA4MjkxMzMwNjQ1MTYsInkiOjQwOH0seyJ4IjoxMDYyLjgyODEyNSwieSI6NDY5fSx7IngiOjEwNjIuODI4MTI1LCJ5Ijo1MzB9LHsieCI6MTE2MS4yODUxNTYyNSwieSI6NTY5LjgwOTAzNDk0NDQ1MTV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M1280.473,681L1280.473,685.167C1280.473,689.333,1280.473,697.667,1122.445,706C964.417,714.333,648.361,722.667,487.703,730.46C327.046,738.254,321.787,745.508,319.157,749.135L316.528,752.762" id="L_extract_prompt_0" class="edge-thickness-normal edge-pattern-dotted edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_extract_prompt_0" data-points="W3sieCI6MTI4MC40NzI2NTYyNSwieSI6NjgxfSx7IngiOjEyODAuNDcyNjU2MjUsInkiOjcwNn0seyJ4IjozMzIuMzA0Njg3NSwieSI6NzMxfSx7IngiOjMxNC4xNzk2ODc1LCJ5Ijo3NTZ9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M1280.473,408L1280.473,418.167C1280.473,428.333,1280.473,448.667,1280.473,469C1280.473,489.333,1280.473,509.667,1245.683,529.501C1210.894,549.335,1141.315,568.669,1106.526,578.336L1071.737,588.004" id="L_bind_canvas_0" class="edge-thickness-normal edge-pattern-dotted edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_bind_canvas_0" data-points="W3sieCI6MTI4MC40NzI2NTYyNSwieSI6NDA4fSx7IngiOjEyODAuNDcyNjU2MjUsInkiOjQ2OX0seyJ4IjoxMjgwLjQ3MjY1NjI1LCJ5Ijo1MzB9LHsieCI6MTA2Ny44ODI4MTI1LCJ5Ijo1ODkuMDc0NDQwOTIyMTU0Nn1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M259.805,906L259.805,914.167C259.805,922.333,259.805,938.667,292.911,954.843C326.018,971.02,392.231,987.04,425.338,995.049L458.445,1003.059" id="L_prompt_llm_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_prompt_llm_0" data-points="W3sieCI6MjU5LjgwNDY4NzUsInkiOjkwNn0seyJ4IjoyNTkuODA0Njg3NSwieSI6OTU1fSx7IngiOjQ2Mi4zMzI2NDgwMjYzMTU4LCJ5IjoxMDA0fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M470.218,1229L437.036,1237.167C403.854,1245.333,337.489,1261.667,296.707,1277.526C255.925,1293.385,240.726,1308.77,233.126,1316.462L225.526,1324.155" id="L_llm_validator_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_llm_validator_0" data-points="W3sieCI6NDcwLjIxODMxNDYyODQ4MywieSI6MTIyOX0seyJ4IjoyNzEuMTI1LCJ5IjoxMjc4fSx7IngiOjIyMi43MTQ1OTk2MDkzNzUsInkiOjEzMjd9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/></g><g class="edgeLabels"><g class="edgeLabel" transform="translate(564.9375, 208)"><g class="label" data-id="L_ui_code_0" transform="translate(-74.3671875, -24)"><foreignObject width="148.734375" height="48"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>postMessage IPC<br />user prompt + intent</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(963.7890625, 469)"><g class="label" data-id="L_code_canvas_0" transform="translate(-58.984375, -36)"><foreignObject width="117.96875" height="72"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>Figma Plugin API<br />fills, text styles,<br />layout, effects</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(980.453125, 208)"><g class="label" data-id="L_code_ui_0" transform="translate(-85.765625, -24)"><foreignObject width="171.53125" height="48"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>postMessage IPC<br />status, progress, results</p></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_server_prompt_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_server_validator_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(564.8046875, 469)"><g class="label" data-id="L_code_server_0" transform="translate(-100, -36)"><foreignObject width="200" height="72"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="edgeLabel"><p>HTTP POST via iframe proxy<br />snapshot + intent + DS</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(784.8046875, 469)"><g class="label" data-id="L_server_code_0" transform="translate(-100, -36)"><foreignObject width="200" height="72"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="edgeLabel"><p>validated JSON<br />operations or NodeSnapshot</p></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_code_extract_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_extract_prompt_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_bind_canvas_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(259.8046875, 955)"><g class="label" data-id="L_prompt_llm_0" transform="translate(-65.8671875, -24)"><foreignObject width="131.734375" height="48"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>structured prompt<br />(8K-16K tokens)</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(271.125, 1278)"><g class="label" data-id="L_llm_validator_0" transform="translate(-88.6953125, -24)"><foreignObject width="177.390625" height="48"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>JSON response<br />operations or frame tree</p></span></div></foreignObject></g></g></g><g class="nodes"><g class="root" transform="translate(451.8046875, 996)"><g class="clusters"><g class="cluster" id="llm" data-look="classic"><rect style="fill:#1a4a1a !important;stroke:#44aa44 !important" x="8" y="8" width="935.03125" height="225"/><g class="cluster-label" transform="translate(375.515625, 8)"><foreignObject width="200" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel" style="color:#fff !important"><p>LLM Providers (3 vendor SDKs)</p></span></div></foreignObject></g></g></g><g class="edgePaths"/><g class="edgeLabels"/><g class="nodes"><g class="node default" id="flowchart-anthropic-16" transform="translate(165.515625, 120.5)"><rect class="basic label-container" style="fill:#2a5a2a !important;stroke:#66aa66 !important" x="-122.515625" y="-63" width="245.03125" height="126"/><g class="label" style="color:#fff !important" transform="translate(-92.515625, -48)"><rect/><foreignObject width="185.03125" height="96"><div style="color: rgb(255, 255, 255) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#fff !important" class="nodeLabel"><p>Anthropic<br /><i>@anthropic-ai/sdk</i><br />Opus 4, Sonnet 4, Haiku 4<br />Streaming mode</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-openai-17" transform="translate(468.03125, 120.5)"><rect class="basic label-container" style="fill:#2a5a2a !important;stroke:#66aa66 !important" x="-130" y="-75" width="260" height="150"/><g class="label" style="color:#fff !important" transform="translate(-100, -60)"><rect/><foreignObject width="200" height="120"><div style="color: rgb(255, 255, 255) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#fff !important" class="nodeLabel"><p>OpenAI<br /><i>openai npm</i><br />GPT-4o, GPT-4o-mini, o3-mini<br />JSON object mode</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-gemini-18" transform="translate(778.03125, 120.5)"><rect class="basic label-container" style="fill:#2a5a2a !important;stroke:#66aa66 !important" x="-130" y="-75" width="260" height="150"/><g class="label" style="color:#fff !important" transform="translate(-100, -60)"><rect/><foreignObject width="200" height="120"><div style="color: rgb(255, 255, 255) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#fff !important" class="nodeLabel"><p>Google Gemini<br /><i>@google/generative-ai</i><br />2.5 Pro, 2.5 Flash, 2.0 Flash<br />JSON MIME mode</p></span></div></foreignObject></g></g></g></g><g class="node default" id="flowchart-ui-0" transform="translate(874.296875, 96)"><rect class="basic label-container" style="fill:#2a2a6e !important;stroke:#6666cc !important" x="-110.8984375" y="-63" width="221.796875" height="126"/><g class="label" style="color:#fff !important" transform="translate(-80.8984375, -48)"><rect/><foreignObject width="161.796875" height="96"><div style="color: rgb(255, 255, 255) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#fff !important" class="nodeLabel"><p>UI Panel<br /><i>ui.html</i><br />Text input, settings,<br />DS banner, audit panel</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-code-1" transform="translate(874.296875, 345)"><rect class="basic label-container" style="fill:#2a2a6e !important;stroke:#6666cc !important" x="-103.75" y="-63" width="207.5" height="126"/><g class="label" style="color:#fff !important" transform="translate(-73.75, -48)"><rect/><foreignObject width="147.5" height="96"><div style="color: rgb(255, 255, 255) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#fff !important" class="nodeLabel"><p>Plugin Logic<br /><i>code.ts</i><br />25 message handlers<br />6 subsystems</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-canvas-2" transform="translate(963.7890625, 618)"><rect class="basic label-container" style="fill:#2a2a6e !important;stroke:#6666cc !important" x="-104.09375" y="-63" width="208.1875" height="126"/><g class="label" style="color:#fff !important" transform="translate(-74.09375, -48)"><rect/><foreignObject width="148.1875" height="96"><div style="color: rgb(255, 255, 255) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#fff !important" class="nodeLabel"><p>Canvas<br /><i>Figma Plugin API</i><br />create*, resize, fills,<br />styles, variables</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-server-9" transform="translate(161.609375, 618)"><rect class="basic label-container" style="fill:#2a2a6e !important;stroke:#6666cc !important" x="-118.609375" y="-63" width="237.21875" height="126"/><g class="label" style="color:#fff !important" transform="translate(-88.609375, -48)"><rect/><foreignObject width="177.21875" height="96"><div style="color: rgb(255, 255, 255) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#fff !important" class="nodeLabel"><p>Express 4 + CORS<br /><i>server.ts</i><br />JSON bodyParser, dotenv<br />8 endpoints</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-prompt-10" transform="translate(259.8046875, 831)"><rect class="basic label-container" style="fill:#2a2a6e !important;stroke:#6666cc !important" x="-130" y="-75" width="260" height="150"/><g class="label" style="color:#fff !important" transform="translate(-100, -60)"><rect/><foreignObject width="200" height="120"><div style="color: rgb(255, 255, 255) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#fff !important" class="nodeLabel"><p>Prompt Builder<br /><i>promptBuilder.ts</i><br />DS-aware prompts<br />Mode-aware palette (80 colors)</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-validator-11" transform="translate(160.47265625, 1390)"><rect class="basic label-container" style="fill:#2a2a6e !important;stroke:#6666cc !important" x="-116.3359375" y="-63" width="232.671875" height="126"/><g class="label" style="color:#fff !important" transform="translate(-86.3359375, -48)"><rect/><foreignObject width="172.671875" height="96"><div style="color: rgb(255, 255, 255) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#fff !important" class="nodeLabel"><p>Zod 3 Validator<br /><i>schema.ts + validator.ts</i><br />16 operation schemas<br />Strict + Lenient modes</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-extract-19" transform="translate(1280.47265625, 618)"><rect class="basic label-container" style="fill:#4a3a1a !important;stroke:#aa9944 !important" x="-119.1875" y="-63" width="238.375" height="126"/><g class="label" style="color:#fff !important" transform="translate(-89.1875, -48)"><rect/><foreignObject width="178.375" height="96"><div style="color: rgb(255, 255, 255) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#fff !important" class="nodeLabel"><p>Extract DS<br /><i>figma.root.children scan</i><br />colors, typography,<br />components, variables</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-bind-20" transform="translate(1280.47265625, 345)"><rect class="basic label-container" style="fill:#4a3a1a !important;stroke:#aa9944 !important" x="-101.203125" y="-63" width="202.40625" height="126"/><g class="label" style="color:#fff !important" transform="translate(-71.203125, -48)"><rect/><foreignObject width="142.40625" height="96"><div style="color: rgb(255, 255, 255) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#fff !important" class="nodeLabel"><p>Style Binding<br /><i>mode-aware</i><br />Light / Dark maps<br />auto-bind on create</p></span></div></foreignObject></g></g></g></g></g></svg>